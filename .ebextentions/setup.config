# Set environment variables (replace with your actual vars)
option_settings:
  aws:elasticbeanstalk:application:environment:
    APP_ENV: production
    DB_HOST: your-db-host
    DB_USER: your-db-user
    DB_PASSWORD: your-db-password
    DB_NAME: your-db-name
    SECRET_KEY: your-secret-key

# Optional: Run Composer install if vendor/ is ignored
commands:
  01_composer_install:
    command: "composer install --no-dev --optimize-autoloader"
    leader_only: true

# Optional: Run database migrations if applicable (using a CLI tool like Laravel or Symfony)
container_commands:
  01_run_migrations:
    command: "php artisan migrate --force" # For Laravel; modify for your framework
    leader_only: true
    ignoreErrors: false
